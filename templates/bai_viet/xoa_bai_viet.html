{% extends "base.html" %}

{% block title %}
X√≥a: {{ bai_viet.tieu_de|default:"Kh√¥ng t√¨m th·∫•y"|truncatechars:20 }}
{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="mb-4 text-center text-danger">
        üóëÔ∏è X√°c nh·∫≠n x√≥a b√†i vi·∫øt
    </h1>

    {% if error_message %}
        <div class="alert alert-danger text-center shadow-sm fw-bold" style="font-size: 1.2rem;">
            <i class="bi bi-exclamation-triangle-fill"></i> {{ error_message }}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'bai_viet:danh_sach_bai_viet' %}" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left-circle"></i> Quay l·∫°i danh s√°ch
            </a>
        </div>

    {% else %}
        <div class="alert alert-warning text-center shadow-sm fw-bold" style="font-size: 1.1rem;">
            ‚ö†Ô∏è H√†nh ƒë·ªông n√†y <u>kh√¥ng th·ªÉ ho√†n t√°c</u>!
        </div>

        <div class="card border-warning shadow mx-auto mb-4" style="max-width: 700px;">
            <div class="card-body">
                <h4 class="card-title text-warning">{{ bai_viet.tieu_de }}</h4>
                <p class="card-text">
                    <strong>Ng√†y ƒëƒÉng:</strong> {{ bai_viet.ngay_dang|date:"d/m/Y" }}<br>
                    {% if bai_viet.tom_tat %}
                        <strong>T√≥m t·∫Øt:</strong> {{ bai_viet.tom_tat|truncatechars:100 }}
                    {% endif %}
                </p>
                <p class="alert alert-warning mb-0">
                    B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën <strong>x√≥a b√†i vi·∫øt n√†y</strong>? H√†nh ƒë·ªông n√†y s·∫Ω x√≥a vƒ©nh vi·ªÖn kh·ªèi h·ªá th·ªëng.
                </p>
            </div>
        </div>

        <!-- N√∫t m·ªü Modal -->
        <div class="text-center">
            <button type="button" class="btn btn-danger px-4" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal">
                <i class="bi bi-trash-fill"></i> X√°c nh·∫≠n x√≥a
            </button>
            <a href="{% url 'bai_viet:home' %}" class="btn btn-outline-secondary ms-2">
                <i class="bi bi-arrow-left"></i> Quay l·∫°i
            </a>
        </div>

        <!-- Modal x√°c nh·∫≠n x√≥a -->
        <div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <form method="post">
              {% csrf_token %}
              <div class="modal-content rounded-4 shadow">
                <div class="modal-header bg-danger text-white rounded-top">
                  <h5 class="modal-title" id="confirmDeleteModalLabel">‚ö†Ô∏è X√°c nh·∫≠n x√≥a b√†i vi·∫øt</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
                </div>
                <div class="modal-body">
                  B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a b√†i vi·∫øt <strong>{{ bai_viet.tieu_de }}</strong>?<br>
                  <span class="text-danger">H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ph·ª•c h·ªìi.</span>
                </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-danger" autofocus>
                    üóëÔ∏è X√≥a vƒ©nh vi·ªÖn
                  </button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                </div>
              </div>
            </form>
          </div>
        </div>
    {% endif %}
</div>
{% endblock %}
