{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Website{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link href={%static 'css/style.css'%}>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

</head>
<body>
    
    {% include "navbar.html" %}

    <div class="container mt-4">
        {% block content %}
        
        {% endblock %}
    </div>
    {% include "footer.html" %}
</body>
<script scr="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Avatar global (dùng chung cho toàn site) -->
<style>
  .avatar-initial {
    width: 40px;
    height: 40px;
    color: white;
    font-weight: 700;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    text-transform: uppercase;
    font-size: 15px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.18);
    overflow: hidden;
    flex-shrink: 0;
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const avatars = document.querySelectorAll(".avatar-initial");

  const palette = [
    "#E53935", "#D81B60", "#8E24AA", "#5E35B1",
    "#3949AB", "#1E88E5", "#039BE5", "#00ACC1",
    "#00897B", "#43A047", "#7CB342", "#C0CA33",
    "#FDD835", "#FB8C00", "#F4511E", "#6D4C41",
    "#757575", "#546E7A"
  ];

  function stringToHash(str) {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
      hash = str.charCodeAt(i) + ((hash << 5) - hash);
      hash &= hash;
    }
    return Math.abs(hash);
  }

  avatars.forEach(el => {
    const name = el.getAttribute("data-name");
    if (!name) return;

    const initial = name[0].toUpperCase();
    el.textContent = initial;

    const hash = stringToHash(name.toLowerCase()); // luôn lowercase để đồng bộ
    const color1 = palette[hash % palette.length];
    const color2 = palette[(hash + 7) % palette.length];
    const color3 = palette[(hash + 13) % palette.length];

    // chọn kiểu màu theo hash
    let bg;
    if (hash % 4 === 0) {
      bg = color1; // 1 màu
    } else if (hash % 4 === 1) {
      bg = `linear-gradient(135deg, ${color1}, ${color2})`; // 2 màu
    } else {
      bg = `linear-gradient(135deg, ${color1}, ${color2}, ${color3})`; // 3 màu
    }

    el.style.background = bg;
    el.style.color = "white";
    el.style.fontWeight = "bold";
    el.style.display = "flex";
    el.style.justifyContent = "center";
    el.style.alignItems = "center";
    el.style.width = "38px";
    el.style.height = "38px";
    el.style.borderRadius = "50%";
    el.style.textTransform = "uppercase";
    el.style.fontSize = "16px";
    el.style.boxShadow = "0 2px 6px rgba(0,0,0,0.2)";
  });
});
</script>
</html>